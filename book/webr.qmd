---
title: "Basic R"
format:
  html:
    include-in-header: header.html
filters:
  - webr
---

<html>
<script type="module">

import('https://webr.r-wasm.org/latest/webr.mjs').then(
    async ({ WebR }) => {
        globalThis.webR = new WebR({
            SW_URL: "https://bluegreen-labs.github.io/R_book_template/"
        });
        //globalThis.webR = new WebR();
        await globalThis.webR.init();
        globalThis.webRCodeShelter = await new globalThis.webR.Shelter();
        await globalThis.webR.installPackages(['ggplot2'])
  }
);

</script>
</html>

```{r}
```

### Basic expressions

An expression is a set of commands that returns a value.

Click `Run Code` to run the following R code.

```{webr}
50 * 2.2
```

```{webr}
head(mtcars)
```

### Basic plotting

* Load the package and some data

```{webr}
library(ggplot2)
```

* create a plot 

```{webr}
ggplot(data = mtcars, mapping = aes(x = mpg, y = hp)) +
  geom_point()
```


::: {.callout-note}
## Exercise

Make a scatter plot with `hp` on the x axis and `wt` on the y axis. Label the x axis "Horse Power" and the y axis “Weight”.
Make one subplot for each value in `gear`.

```{webr}
# Add you code here
```

Your result should look like the plot below
:::

::: {.callout-tip collapse="true"}
## Expected Result

```{r}
#| echo: false
library(ggplot2)
ggplot(mtcars, aes(x = hp, y = wt)) +
  geom_point() +
  labs(x = "Horse Power", y = "Weight") +
  facet_wrap(~gear)
```
:::
